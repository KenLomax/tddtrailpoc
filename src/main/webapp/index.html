<html>
<head>
<link rel="stylesheet" type="text/css" href="style/mystyle.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script></head>
<body>
<h3>A Trail Step with Dynamically included Test Code</h3>

Example step:
<ol>
<li>Download and unzip the <a href="https://repository.hybris.com/webapp/#/artifacts/browse/tree/General/hybris-public-release/de/hybris/platform/hybris-commerce-suite/6.2.0.1/hybris-commerce-suite-6.2.0.1.zip">hybris 6.2.0.1 zip</a> into a folder near the top of your file system.</li>
<li>Follow the instructions <code>hybris-commerce-suite-6.2.0.1/README</code>.</li>
<li>In the folder above <code>hybris-commerce-suite-6.2.0.1</code> run <code>git clone https://github.com/KenLomax/tddtrailpoc.git</code>.  You should now have the folder <code>tddtrailpoc</code> alongside <code>hybris-commerce-suite-6.2.0.1</code>.
<li>In <code>tddtrailpoc</code> run <code>java -jar target/tddTrail-0.0.1-SNAPSHOT.war</code> and open <a href="http://localhost:8080/">http://localhost:8080/</a> where you will see the TddTrail Page</li>
<br>

<p id="tests" name="tests" >

<button class=runTest id="testA" name="testA">Call testA</button> 
<span id="testAResult" name="testAResult">Result</span> Can run with <code>mvn -Dtest=TrailSetupTest#testA test</code> or<br>
<div STYLE="background-color: #edf1f5; border:1px solid lightgray" id="snippetTestA" name="snippetTestA"></div>

<br>
<button class=runTest id="testB" name="testB">Call testB</button>
<span id="testBResult" name="testBResult">Result</span>
<div STYLE="background-color: #edf1f5; border:1px solid lightgray" id="snippetTestB" name="snippetTestB"></div>

<br>
<button class=runTest id="testC" name="testC">Call testC</button>
<span id="testCResult" name="testCResult">Result</span>
<div STYLE="background-color: #edf1f5; border:1px solid lightgray" id="snippetTestC" name="snippetTestC"></div>

</p>

<script>// <![CDATA[

window.alert(window.location.href);
if (window.location.href.includes("http://localhost"))
	$('#tests').show();
else
	$('#tests').hide();

$( ".runTest" ).click(function() {
	var item_id = $(this).attr('id');
	$("#"+item_id+"Result").removeClass( "isa_error isa_success isa_info" ).addClass("isa_info")
 	$.ajax({url: "http://localhost:8080/tdd?test="+item_id, success: function(result){
        $("#"+item_id+"Result").html(result);
        if (result.includes("Success"))
	         $("#"+item_id+"Result").removeClass( "isa_error isa_success isa_info" ).addClass("isa_success")
        else
	         $("#"+item_id+"Result").removeClass( "isa_error isa_success isa_info" ).addClass("isa_error")    
    }});
});

$('#snippetTestA').load('https://tddtrail.cfapps.us10.hana.ondemand.com/demotests/testA.html?nocache='+ (new Date()).getTime());
$('#snippetTestB').load('https://tddtrail.cfapps.us10.hana.ondemand.com/demotests/testB.html?nocache='+ (new Date()).getTime());
$('#snippetTestC').load('https://tddtrail.cfapps.us10.hana.ondemand.com/demotests/testC.html?nocache='+ (new Date()).getTime());

window.scrollTo(0,0);
// ]]></script>


</body>
</html>